<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Chat Interface</title>
  <link rel="stylesheet" href="style.css">
</head>
<body style = "justify-content:center">
  <script>
    const participantID = localStorage.participantID;
    const enhanced = participantID.split("").reduce((a, v) => a + v.charCodeAt(0), 0) % 2 == 0;
    function agentLink() {
      return agent = enhanced ? "enhancedAgent.html" : "baselineAgent.html";
    }
  </script>
  <h1>
    Study Steps
  </h1>
  <ol style = "padding-inline-start:0">
    <li>
      <a id = "demographics">Demographics Questionnaire</a>
    </li>
    <li>
      <a id = "task">Task Explanation</a>
    </li>
    <li>
      <a id = "preQuestionnaire">Pre-task Questionnaire</a>
    </li>
    <li>
      <a id = "preAssessment">Pre-task Knowledge Assessment</a>
    </li>
    <li>
      <a id = "agent">Baseline/Enhanced Agent</a>
    </li>
    <li>
      <a id = "postAsssessment">Post-task Knowledge Assessment</a>
    </li>
    <li>
      <a id = "postQuestionnaire">Post-task Questionnaire</a>
    </li>
  </ol>
  <script>
    const urls = {
      "demographics": `https://usfca.qualtrics.com/jfe/form/SV_bmv16IEwDQaqN6K?participantID=${encodeURIComponent(localStorage.participantID)}`,
      "task": "",
      "preQuestionnaire": "",
      "preAssessment": "",
      "agent": "/enhancedAgent.html",
      "postQuestionnaire": "",
      "postAsssessment": ""
    }
    for(const [id, url] of Object.entries(urls)) {
      document.getElementById(id).setAttribute("href", url);
    }
  </script>
</body>
</html>